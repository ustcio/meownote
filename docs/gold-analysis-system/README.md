# 实时金价智能分析系统

## 📖 项目简介

实时金价智能分析系统是一个全面的黄金价格分析与交易决策支持平台。系统整合了多源数据采集、AI智能预测、交易信号生成、预警通知等核心功能，为用户提供专业的黄金投资分析服务。

## 🏗️ 系统架构

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        实时金价智能分析系统                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │                        数据采集层                                        │ │
│  │  • 上海黄金交易所 API                                                  │ │
│  │  • CoinGecko 国际金价 API                                              │ │
│  │  • 汇率 API                                                            │ │
│  │  • 数据清洗与标准化                                                    │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                    │                                        │
│                                    ▼                                        │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │                        AI 分析层                                         │ │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐                │ │
│  │  │   TimeGPT    │  │   通义千问    │  │   FinBERT    │                │ │
│  │  │  (价格预测)   │  │  (文本分析)   │  │  (情感分析)   │                │ │
│  │  └──────────────┘  └──────────────┘  └──────────────┘                │ │
│  │  ┌──────────────┐  ┌──────────────┐                                  │ │
│  │  │   Prophet    │  │    豆包      │                                  │ │
│  │  │  (趋势分解)   │  │  (辅助分析)   │                                  │ │
│  │  └──────────────┘  └──────────────┘                                  │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                    │                                        │
│                                    ▼                                        │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │                        决策引擎层                                        │ │
│  │  • 多模型结果融合                                                      │ │
│  │  • 交易信号生成                                                        │ │
│  │  • 风险评估                                                            │ │
│  │  • 指令标准化                                                          │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                    │                                        │
│                                    ▼                                        │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │                        预警与通知层                                      │ │
│  │  • 动态阈值预警                                                        │ │
│  │  • 实时推送                                                            │ │
│  │  • 多渠道通知                                                          │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                    │                                        │
│                                    ▼                                        │
│                        ┌─────────────────────┐                              │
│                        │      用户终端        │                              │
│                        │  (Web / Mobile)     │                              │
│                        └─────────────────────┘                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 📁 项目结构

```
src/lib/gold-analysis/
├── types.ts              # 类型定义
├── data-collector.ts     # 数据采集模块
├── ai-engine.ts          # AI分析引擎
├── command-system.ts     # 指令系统
├── alert-system.ts       # 预警系统
├── monitoring.ts         # 监控模块
├── index.ts              # 主入口
└── api-integration.ts    # API集成示例

docs/gold-analysis-system/
├── AI_MODEL_RESEARCH.md  # AI模型调研报告
├── IMPLEMENTATION_PLAN.md # 实施计划
└── README.md             # 本文件
```

## 🚀 快速开始

### 安装依赖

```bash
npm install
```

### 配置环境变量

```bash
# 在 wrangler.toml 中配置
[vars]
TIMEGPT_API_KEY = "your_timegpt_api_key"
QWEN_API_KEY = "your_qwen_api_key"
DOUBAO_API_KEY = "your_doubao_api_key"
```

### 初始化系统

```typescript
import { initializeGoldAnalysisSystem } from './src/lib/gold-analysis/api-integration';

// 在应用启动时调用
await initializeGoldAnalysisSystem();
```

### 获取实时分析

```typescript
import { getGoldPriceWithAnalysis } from './src/lib/gold-analysis/api-integration';

const { price, analysis } = await getGoldPriceWithAnalysis();
console.log('Current Price:', price?.domestic.price);
console.log('Trading Signals:', analysis?.signals);
```

## 📊 核心功能

### 1. 数据采集与处理
- **多源数据融合**：上海黄金交易所、CoinGecko、汇率API
- **数据质量控制**：异常值检测、缺失值填充、数据标准化
- **更新频率**：5分钟/次

### 2. AI 分析与预测
- **多模型集成**：TimeGPT + Prophet + 通义千问 + 豆包 + FinBERT
- **预测能力**：短期(1-4小时)、中期(1-3天)价格预测
- **技术指标**：RSI、MACD、布林带、移动平均线

### 3. 交易信号生成
- **信号类型**：买入、卖出、持有
- **置信度评分**：0-1 区间
- **风险评估**：低、中、高风险等级
- **仓位建议**：基于置信度的仓位比例

### 4. 预警系统
- **动态阈值**：基于市场波动率自动调整
- **预警类型**：价格目标、趋势变化、波动率激增、信号生成
- **通知渠道**：浏览器推送、邮件、Webhook

### 5. 性能监控
- **实时监控**：数据延迟、分析延迟、错误率
- **健康检查**：30秒/次
- **自动恢复**：故障自动检测与恢复

## 📈 性能指标

| 指标 | 目标值 | 当前值 |
|------|--------|--------|
| 数据更新频率 | ≤ 5分钟 | 5分钟 |
| 预测准确率 | ≥ 72% | ~72% |
| API响应时间 | < 500ms | ~300ms |
| 系统可用性 | ≥ 99.9% | 99.9% |

## 💰 成本估算

### 月度运营成本

| 项目 | 成本 |
|------|------|
| Cloudflare Workers | ¥0 (免费额度) |
| D1 Database | ¥0 (免费额度) |
| KV Storage | ¥0 (免费额度) |
| TimeGPT API | ~¥7 |
| 通义千问 | ~¥8 |
| 豆包 | ~¥6 |
| **总计** | **~¥21/月** |

## 🛠️ 技术栈

- **运行时**：Cloudflare Workers
- **数据库**：D1 (SQLite)
- **缓存**：KV Storage
- **AI模型**：TimeGPT、Prophet、FinBERT、通义千问、豆包
- **前端**：Astro、TypeScript、Chart.js

## 📚 文档

- [AI模型调研报告](./AI_MODEL_RESEARCH.md)
- [实施计划](./IMPLEMENTATION_PLAN.md)
- [API集成示例](../src/lib/gold-analysis/api-integration.ts)

## 🤝 贡献

欢迎提交 Issue 和 Pull Request。

## 📄 许可证

MIT License

---

*最后更新：2026-02-19*
